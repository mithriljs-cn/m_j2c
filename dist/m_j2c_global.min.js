var m_j2c=function(e,t){"use strict";function r(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}function n(e,t){if(g){if(e.type="text/css",e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}return e}}function a(e,t,r){if(g){r=r||"";var a="style_"+t+"_"+r+"_"+e.version;if(!document.getElementById(a)){if(!e.dom){var o=document.createElement("style");document.head.appendChild(o),e.dom=o}e.dom.setAttribute("id",a.replace(/\"/g,"&quot;").replace(/\'/g,"&apos;")),n(e.dom,e.sheet)}}}function o(e,t){return t.attrs&&t.attrs.className&&(t.attrs.className=t.attrs.className.split(/\s+/).map(function(t){var r=t.match(/global\((.*)\)/);return r?r.pop():e[t]?e[t]:t}).join(" ")),m.call(t.children)===l&&t.children.forEach(function(t){i(e,t)}),t}function i(e,t){return m.call(t)===l?t.map(function(t){return i(e,t)}):m.call(t)!==u?t:o(e,t)}function s(e){if(g){var t=e.dom;t&&t.parentNode&&t.parentNode.removeChild(t),delete e.dom}}function f(e,t,n){var a=arguments;if(0===a.length)return v;if(1===a.length){if("function"==typeof e&&e.prop)return c=e,f;t=e,e=p}if("object"==typeof a[1]&&(n=t,t=e,e=p),e=e||f.DEFAULT_NS,!t)return v[e];if(!n)return v[e]&&v[e][t];if(m.call(t)==u){var o="temp_"+Date.now()+Math.random();f.add(e,o,t),t=o}if(r(n))return f.applyClass(e,t,n);var s=v[e][t];if(!s||!s.sheet)return i({},n);var l=i(s.sheet,n);return l}e="default"in e?e["default"]:e,t="default"in t?t["default"]:t;var c="undefined"!=typeof window&&window.m||null,u="[object Object]",l="[object Array]",d="[object RegExp]",m={}.toString,v={},h=[];f.DEFAULT_NS="default",f.j2c=e;var p=f.DEFAULT_NS;v[f.DEFAULT_NS]={};var g="object"==typeof document&&document&&document instanceof Node;f.removeNS=function(e){if(e&&e!==f.DEFAULT_NS){if(e===p){var t=v[e];for(var r in t)s(t[r]);f.revertClass(),p=f.DEFAULT_NS,c&&c.redraw()}return delete v[e],f}},f.getNS=function(e){return e?v[e]:p},f.setNS=function(e){var t=v[p];e=e||f.DEFAULT_NS,p=e;for(var r in t)s(t[r]);f.revertClass(),v[p]?t=v[p]:v[p]=t={};for(r in t)f.add(r,t[r].cssObj);return c&&c.redraw(),f},f.add=function(r,n,o){var i=arguments;if(0===i.length)return v[p];if(1===i.length&&(n=r,r=p),"object"==typeof i[1]&&(o=n,n=r,r=p),r=r||f.DEFAULT_NS,!n)return v[r];if(!o)return v[r]&&v[r][n];var s=v[r];s||(v[r]={});var u=[];h.forEach(function(e){N(e.dom,u,r,n,!1)});var l;return s[n]?(l=s[n],t._extend(l.cssObj,o),l.sheet=e.sheet(l.cssObj),l.version++):l=s[n]={cssObj:o,version:0,sheet:e.sheet(o)},a(l,r,n),c&&c.redraw(),u.forEach(function(e){N(e.dom,[],r,n,!0)}),s[n]},f.remove=function(r,n,o){var i=arguments;if(0===i.length)return v[p];1===i.length&&(n=r,r=p),"object"==typeof i[1]&&(o=n,n=r,r=p),r=r||f.DEFAULT_NS;var u=v[r];if(n&&u&&u[n]){var l=[];h.forEach(function(e){N(e.dom,l,r,n,!1)});var d=u[n];return o?(t._exclude(d.cssObj,o,null),d.sheet=e.sheet(d.cssObj),d.version++,a(d,r,n),l.forEach(function(e){N(e.dom,[],r,n,!0)})):(delete u[n],s(d)),c&&c.redraw(),d}},f.getClass=function(e,t){var r=arguments;if(0===r.length)return v[p];1===r.length&&(t=e,e=p),e=e||f.DEFAULT_NS;var n,a={},o=v[e];if(o&&t){for(var i in o)if((n=o[i].sheet)&&(m.call(t)==d?i.match(t):i==t))for(var s in n)n.hasOwnProperty(s)&&!s.match(/^\d/)&&(a[s]=n[s]);return a}};var N=function(e,t,r,n,a){var o=e.className&&e.className.split(/\s+/);o&&(e.className=o.map(function(o){if(a===!1){for(var i=h.length;i--;){var s=h[i];if(r=r||s.ns,n=n||s.name,s.ns==r&&s.name==n&&s.dom===e&&s.j2c==o)return t&&t.push(s),s.original}return o}var c=f.getClass(r,n);if(c){var u=c[o];if(u){var l={ns:r,name:n,dom:e,original:o,j2c:u};t&&t.push(l),h.push(l)}return u||o}}).join(" "))};f.domClassMap=function(){return h},f.revertClass=function(e,t,n){var a=[];e&&r(e)||(e=document.body),""===t&&(t=f.DEFAULT_NS),t=t||p,N(e,a,t,n,!1);for(var o=e.getElementsByTagName("*"),i=o.length;i--;)N(o[i],a,t,n,!1);return a},f.applyClass=function(e,t,n){if(g){var a=arguments;if("object"==typeof a[1]&&(n=t,t=e,e=p),void 0===t&&(t=e,e=p),n&&r(n)||(n=document.body),e=e||f.DEFAULT_NS,m.call(t)==u){var o="temp_"+Date.now()+Math.random();f.add(e,o,t),t=o}var i=[];N(n,i,e,t);for(var s=n.getElementsByTagName("*"),c=s.length;c--;)N(s[c],i,e,t);return i}};var y=f;return y}(j2c,util);